

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.0/additional-methods.js"></script>
<script type="text/javascript" src="/assets/plugins/jquery/jquery.validate.js"></script>
</head>

<body>
    
<form id="form" method="post">
    what <input type="text" name="what" required novalidate/><br>
    where <input type="text" name="where" required novalidate/><br>
    where <input type="email" name="email" required novalidate/><br>
    <br/>

    <input type="submit" />
</form> 
    

<form id="emailform">
    <input type="email" name="email" required novalidate/>
    <br/>

    <input type="submit" />
</form>

<script>
 $(document).ready(function () {

     /*$("#emailform").validate({
         ignore: ":hidden",
         rules: { },
         submitHandler: function (form) {
             alert('valid form submission'); // for demo
             
             $.ajax({
						type: "POST",
						dataType:"json",
						url: "../controller/addalert.cfm",
						data: $(this).serialize()
					}).done(function(){
						$('#emailform').html(
							"<div class='col-xs-12'><h2>Sweet! You're Almost Done.</h2><p>To activate your job alert, please check your email and click the confirmation button.</p></div>");
					}).fail(function(){
							  $('#emailform').html(
							"<div class='col-xs-12'><h2>Sorry for the Inconvenience.</h2><p>The email alert system is under going maintenance.</p></div>");
					});
					return true; 
         }

     });*/
     
     
     
     
     $('#emailform').submit(function(event) {
          alert('form submitted');
         
         
         $.ajax({
						type: "POST",
						dataType:"json",
						url: "controller/addalert.cfm",
						data: $(this).serialize()
					}).done(function(){
						$('#emailform').html(
							"<div class='col-xs-12'><h2>Sweet! You're Almost Done.</h2><p>To activate your job alert, please check your email and click the confirmation button.</p></div>");
					}).fail(function(){
							  $('#emailform').html(
							"<div class='col-xs-12'><h2>Sorry for the Inconvenience.</h2><p>The email alert system is under going maintenance.</p></div>");
                            console.log(data);
					});
         
         
         
         
      event.preventDefault();
     });
     


 });
</script>

